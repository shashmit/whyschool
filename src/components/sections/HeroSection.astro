---
export interface Props {
  title: string;
  subtitle: string;
  ctaLink: string;
  backgroundImage?: string;
}

const { title, subtitle, ctaLink, backgroundImage } = Astro.props;
---

<section class="relative overflow-hidden min-h-screen flex items-center pt-8 bg-neo-white" data-scroll-fade>
  <!-- Brutalist Background Elements -->
  <div class="absolute inset-0 pointer-events-none overflow-hidden">
  
    <div class="absolute bottom-40 right-20 w-48 h-48 bg-neo-pink border-3 border-black rounded-full shadow-neo-xl animate-bounce-slow"></div>
    <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] border-3 border-black opacity-5 rounded-full animate-spin-slow"></div>
  </div>

  <div class="relative w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 z-10">
    <!-- Stylized WhySchool Title -->
    <div class="text-center mb-16">
      <div class="flex items-baseline justify-center">
        <h1 class="text-6xl sm:text-8xl md:text-9xl font-black text-neo-black select-none tracking-tighter animate-glitch">
          WhyS
        </h1>
          <h1 class="text-6xl sm:text-8xl md:text-9xl font-black text-neo-orange select-none scale-x-[-1] transform translate-y-4 md:translate-y-5 border-black">
            ?
          </h1>
        <h1 class="text-6xl sm:text-8xl md:text-9xl font-black text-neo-black select-none tracking-tighter animate-glitch" style="animation-delay: 0.5s;">
          hool
        </h1>
      </div>
      <div class="mt-8 flex justify-center gap-4 flex-wrap">
        <div class="neo-box bg-neo-green px-6 py-2 transform -rotate-3">
          <span class="text-xl font-black text-black uppercase">Question</span>
        </div>
        <div class="neo-box bg-neo-cyan px-6 py-2 transform rotate-2">
          <span class="text-xl font-black text-black uppercase">Learn</span>
        </div>
        <div class="neo-box bg-neo-yellow px-6 py-2 transform -rotate-2">
          <span class="text-xl font-black text-black uppercase">Build</span>
        </div>
      </div>
    </div>
    
    <div class="flex flex-col items-center gap-12">
      
      <!-- Main Content Box -->
      <div class="w-full max-w-6xl mx-auto">
        <div class="neo-box bg-white p-6 sm:p-10 border-4 border-black shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] transform hover:-translate-y-2 hover:shadow-[12px_12px_0px_0px_rgba(0,0,0,1)] transition-all duration-300">
          <div class="grid lg:grid-cols-2 gap-10 items-center">
            <!-- Left: Content -->
            <div class="order-2 lg:order-1">
              <h2 class="text-3xl sm:text-4xl lg:text-5xl font-black leading-tight text-black mb-6 uppercase">
                {title}
              </h2>
              <p class="text-lg sm:text-xl text-black font-bold mb-8 border-l-4 border-neo-purple pl-4">
                {subtitle}
              </p>
              <div class="flex items-center gap-4">
                <a href="/curriculum" class="neo-button bg-neo-yellow hover:bg-neo-orange text-black">
                  Explore Curriculum
                </a>
              </div>
            </div>

            <!-- Right: Video -->
            <div class="order-1 lg:order-2">
              <div class="relative border-3 border-black shadow-neo">
                <video 
                  id="hero-video"
                  class="w-full h-64 sm:h-80 lg:h-[400px] object-cover grayscale hover:grayscale-0 transition-all duration-500"
                  autoplay 
                  muted
                  loop
                  playsinline
                >
                  <source src="https://pasjrtnci5ayebee.public.blob.vercel-storage.com/The_Importance_of_Why_in_Education.mp4" type="video/mp4">
                  Your browser does not support the video tag.
                </video>
                
                <!-- Brutalist Mute Button -->
                <button 
                  id="mute-toggle"
                  type="button"
                  class="absolute top-4 right-4 z-10 bg-neo-pink border-3 border-black p-2 hover:bg-neo-white transition-colors shadow-neo-sm"
                  aria-label="Toggle mute"
                >
                  <svg id="mute-icon" class="w-6 h-6 text-black" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z" clip-rule="evenodd"/>
                    <path id="mute-slash" stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M17 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2"/>
                  </svg>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Marquee Strip -->
      <div class="w-full overflow-hidden bg-neo-black py-4 border-y-4 border-neo-white transform -rotate-1">
        <div class="animate-marquee whitespace-nowrap">
          <span class="text-neo-white text-2xl font-mono font-bold mx-4">REAL WORLD SKILLS</span>
          <span class="text-neo-pink text-2xl font-mono font-bold mx-4">///</span>
          <span class="text-neo-white text-2xl font-mono font-bold mx-4">HANDS ON LEARNING</span>
          <span class="text-neo-cyan text-2xl font-mono font-bold mx-4">///</span>
          <span class="text-neo-white text-2xl font-mono font-bold mx-4">FUTURE READY</span>
          <span class="text-neo-green text-2xl font-mono font-bold mx-4">///</span>
          <span class="text-neo-white text-2xl font-mono font-bold mx-4">REAL WORLD SKILLS</span>
          <span class="text-neo-pink text-2xl font-mono font-bold mx-4">///</span>
          <span class="text-neo-white text-2xl font-mono font-bold mx-4">HANDS ON LEARNING</span>
          <span class="text-neo-cyan text-2xl font-mono font-bold mx-4">///</span>
          <span class="text-neo-white text-2xl font-mono font-bold mx-4">FUTURE READY</span>
          <span class="text-neo-green text-2xl font-mono font-bold mx-4">///</span>
        </div>
      </div>

    </div>
  </div>
</section>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const video = document.getElementById('hero-video') as HTMLVideoElement | null;
    const muteToggle = document.getElementById('mute-toggle');
    const muteSlash = document.getElementById('mute-slash');
    
    if (video && muteToggle && muteSlash) {
      const updateMuteIcon = () => {
        if (video.muted) {
          muteSlash.style.display = 'block';
        } else {
          muteSlash.style.display = 'none';
        }
      };
      
      updateMuteIcon();
      
      muteToggle.addEventListener('click', function() {
        video.muted = !video.muted;
        updateMuteIcon();
      });
    }
  });
</script>